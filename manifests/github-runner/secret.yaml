# This secret must be created manually before ArgoCD can sync the controller deployment.
# The secret contains the GitHub token which cannot be committed to git (GitHub blocks commits with tokens).
#
# To create the secret manually, run:
#
# kubectl create secret generic controller-manager \
#   --from-literal=github_token="<YOUR_GITHUB_TOKEN>" \
#   -n actions-runner-system
#
# Or if the secret already exists and you need to update it:
#
# kubectl create secret generic controller-manager \
#   --from-literal=github_token="<YOUR_GITHUB_TOKEN>" \
#   -n actions-runner-system \
#   --dry-run=client -o yaml | kubectl apply -f -
#
# After creating the secret, ArgoCD will be able to sync the controller deployment.

apiVersion: v1
kind: Secret
metadata:
  name: controller-manager
  namespace: actions-runner-system
  annotations:
    argocd.argoproj.io/sync-wave: "-1"
type: Opaque
stringData:
  github_token: ""  # Must be set manually via kubectl (see instructions above)
